{"version":3,"sources":["start.js","initialization.js","phone-mask.js","check-form.js","edit-wp7.js","img-cover.js","style-file.js","style-select.js","search-ajax.js","btn-show-hide.js","password-edit.js","simple.js","tabs.js","rating-comments.js","animals.js","comments.js","item-companies.js","item-sales.js","main.js","end.js"],"names":[],"mappings":"AAAA;AACA;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChJA","file":"common-dist.js","sourcesContent":["$(document).ready(function(){\r\n","// let mainSlider = $('.main-slider');\r\n\r\n// mainSlider.lightSlider({\r\n//   item: 1,\r\n//   loop: true,\r\n//   slideMove: 1,\r\n//   easing: 'cubic-bezier(0.25, 0, 0.25, 1)',\r\n//   speed: 600,\r\n//   addClass: 'main-slider-container',\r\n//   responsive: [\r\n//     {\r\n//       breakpoint: 576,\r\n//       settings: {\r\n//         controls: false,\r\n//       }\r\n//     }\r\n//   ]\r\n// });\r\n\r\n\r\n\r\nlet thumbSlider = $('.thumb-slider');\r\n\r\nthumbSlider.lightSlider({\r\n\r\n  gallery: true,\r\n  item: 1,\r\n  thumbItem: 4,\r\n  slideMargin: 0,\r\n  enableDrag: false,\r\n  currentPagerPosition: 'left',\r\n  addClass: 'thumb-slider-container',\r\n});\r\n\r\n\r\n\r\nlet thumbSliderVericale = $('.thumb-slider-verticale');\r\n\r\nlet WindowWidth = $(window).width();\r\n\r\nlet thumbHeight = 720;\r\nlet thumbItem = 6;\r\n\r\nif (WindowWidth < 1024) {\r\n  thumbHeight = 400;\r\n  thumbItem = 5;\r\n}\r\n\r\nif (WindowWidth < 820) {\r\n  thumbHeight = 320;\r\n  thumbItem = 4;\r\n}\r\n\r\n\r\nif (WindowWidth > 576) {\r\n\r\n  thumbSliderVericale.lightSlider({\r\n\r\n    gallery: true,\r\n    item: 1,\r\n    vertical: true,\r\n    verticalHeight: thumbHeight,\r\n    // adaptiveHeight: false,\r\n    enableDrag: true,\r\n    controls: true,\r\n    addClass: 'animals-slider-container',\r\n    // vThumbWidth:50, \r\n    thumbItem: thumbItem,\r\n\r\n  });\r\n} else {\r\n  thumbSliderVericale.lightSlider({\r\n\r\n    gallery: true,\r\n    item: 1,\r\n    thumbItem: 4,\r\n    slideMargin: 0,\r\n    enableDrag: false,\r\n    currentPagerPosition: 'left',\r\n    addClass: 'thumb-slider-container',\r\n\r\n  });\r\n}\r\n\r\nlet petsSliderVericale = $('.pets-slider-verticale');\r\n\r\n\r\n\r\nif (WindowWidth > 576) {\r\n\r\n  petsSliderVericale.lightSlider({\r\n\r\n    gallery: true,\r\n    item: 1,\r\n    vertical: true,\r\n    verticalHeight: 240,\r\n    enableDrag: true,\r\n    controls: true,\r\n    // addClass: 'pets-slider-container',\r\n    // vThumbWidth:50, \r\n    thumbItem: 4,\r\n\r\n  });\r\n} else {\r\n  petsSliderVericale.lightSlider({\r\n\r\n    gallery: true,\r\n    item: 1,\r\n    thumbItem: 4,\r\n    slideMargin: 0,\r\n    enableDrag: false,\r\n    currentPagerPosition: 'left',\r\n    addClass: 'pets-slider-container',\r\n\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n$('.input-date').each(function () {\r\n  let dp = new AirDatepicker(this, {\r\n    timepicker: true,\r\n    timeFormat: 'hh:mm AA',\r\n    onSelect({ date }) {\r\n      $(this).addClass('input-empty');\r\n      // console.log('done', date) \r\n    }\r\n  });\r\n})\r\n\r\n\r\nfunction toInput(date) {\r\n  $(date.input).parents('.range-slider-js').find('.from-range').val(date.from)\r\n  $(date.input).parents('.range-slider-js').find('.to-range').val(date.to)\r\n}\r\n\r\n\r\n$(\".range-slider\").each(function () {\r\n  let type = $(this).data('type');\r\n  let min = $(this).data('min');\r\n  let max = $(this).data('max');\r\n  let from = $(this).data('from');\r\n  let to = $(this).data('to');\r\n\r\n  $(this).ionRangeSlider({\r\n    type: type,\r\n    min: min,\r\n    max: max,\r\n    from: from,\r\n    to: to,\r\n    skin: \"round\",\r\n    drag_interval: false,\r\n    grid_snap: true,\r\n    grid_num: 10,\r\n    onChange: toInput,\r\n    // step: 100\r\n  });\r\n});\r\n\r\nlightbox.option({\r\n  'resizeDuration': 200,\r\n  'wrapAround': true\r\n})\r\n\r\n\r\n","\r\n\r\n\r\nvar longPhone = 16;\r\n$('.phone-mask').mask('+7(999)999-99-99');\r\n$('.phone-mask').on('keydown', function (e) {\r\n\r\n    // onkeypress = 'return event.charCode >= 48 && event.charCode <= 57'\r\n\r\n    if (!(e.which >= 48 && e.which <= 57 || e.which == 8)) {\r\n        return false;\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n","// check email\r\nvar r = /^([a-z0-9_\\.-])+@[a-z0-9-]+\\.([a-z]{2,4}\\.)?[a-z]{2,4}$/i;\r\nvar mailInput;\r\nvar mailFlag = 1;\r\nvar isEmpty = false;\r\n\r\nfunction checkMail(elThis) {\r\n\tmailInput = elThis.val();\r\n\r\n\tif (!r.test(mailInput)) {\r\n\t\telThis.addClass('mail-error');\r\n\r\n\t} else {\r\n\t\telThis.removeClass('mail-error')\r\n\t}\r\n}\r\n\r\n$('.check-mail').on('keyup', function () {\r\n\tcheckMail($(this));\r\n});\r\n// check email\r\n\r\n// check require\r\nlet timeErrId;\r\n$('.btn-send').on('click', function (e) {\r\n\tclearTimeout(timeErrId);\r\n\r\n\tisEmpty = false;\r\n\r\n\t// checkMail($(this).parents('.form').find('.check-mail'));\r\n\r\n\t$(this).parents('.form').find('.require').each(function () {\r\n\r\n\t\t// if ($(this).attr('type') == 'checkbox') {\r\n\t\t// \tif (!$(this).is(':checked')) {\r\n\t\t// \t\t$(this).parent().addClass('input-error');\r\n\t\t// \t\tisEmpty = true;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t// if ($(this).is('.style-select')) {\r\n\r\n\t\t// \tif ($(this).prev().attr('data-val') == 0) {\r\n\r\n\t\t// \t\t$(this).prev().addClass('input-error');\r\n\t\t// \t\tisEmpty = true;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t// if ($(this).attr('type') == 'file') {\r\n\t\t// \t$(this).next().addClass('input-error');\r\n\t\t// \tisEmpty = true;\r\n\t\t// }\r\n\r\n\t\tif ($(this).val().length < 3) {\r\n\t\t\tisEmpty = true;\r\n\t\t\t$(this).addClass('input-error');\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tlet mailInput = $(this).parents('.form').find('.check-mail');\r\n\r\n\tif (!r.test(mailInput.val())) {\r\n\t\tisEmpty = true;\r\n\t\tmailInput.addClass('input-error');\r\n\t}\r\n\r\n\ttimeErrId = setTimeout(function () {\r\n\t\t$('.input-error').removeClass('input-error');\r\n\t}, 3000);\r\n\r\n\tconsole.log('isEmpty', isEmpty)\r\n\r\n\tif (isEmpty == true) {\r\n\t\te.preventDefault();\r\n\t};\r\n});\r\n\r\n// check require","$('.wpcf7-form-control-wrap').each(function () {\r\n  let sizeVal = $(this).find('.wpcf7-form-control').attr('id');\r\n  $(this).addClass(sizeVal);\r\n});\r\n\r\n\r\n\r\n$('.order-pets-btn').on('click', function () {\r\n\r\n\r\n  let parentEl = $(this).parents('.companies-main-info')\r\n  let mainEmail = parentEl.find('.mail-for-pets')\r\n  let mainName = parentEl.find('.company-for-pets')\r\n  $('.pets-name').val(parentEl.find('h2').text());\r\n  $('.pets-mail ').val(mainEmail.text());\r\n  $('.pets-compamies').val(mainName.text());\r\n});\r\n\r\n$('.order-sales-btn').on('click', function () {\r\n\r\n  let parentEl = $(this).parents('.sales-sidebar');\r\n  let mainEmail = parentEl.find('.mail-for-sales');\r\n  let mainName = parentEl.find('.company-for-sales');\r\n  $('.sales-name').each(function () {\r\n    $(this).val($('.content h1').text());\r\n    $(this).text($('.content h1').text());\r\n  })\r\n  $('.sales-mail').val(mainEmail.text());\r\n  $('.sales-compamies').val(mainName.text());\r\n});\r\n\r\n\r\n$('.order-item-sales-btn').on('click', function () {\r\n\r\n  let parentEl = $(this).parents('.sales-item');\r\n  let mainEmail = parentEl.find('.mail-for-sales');\r\n  let mainName = parentEl.find('.company-for-sales');\r\n  console.log(parentEl.find('h2').text());\r\n\r\n  $('.sales-name').each(function () {\r\n    $(this).val(parentEl.find('h2').text());\r\n    $(this).text(parentEl.find('h2').text());\r\n  });\r\n\r\n  $('.sales-mail').val(mainEmail.text());\r\n  $('.sales-compamies').val(mainName.text());\r\n});\r\n\r\n// wp forma 7 pets order\r\n\r\n\r\n\r\ndocument.addEventListener('wpcf7mailsent', function (event) {\r\n  console.log('mail sent OK');\r\n  console.log(event.detail)\r\n\r\n  $('.popup').addClass('send-success');\r\n\r\n  setTimeout(function () {\r\n    $('.wpcf7-form').attr('data-status', 'init');\r\n    $('.wpcf7-form').removeClass('sent invalid');\r\n    $('.wpcf7-form').addClass('init');\r\n\r\n    $('.element-show').removeClass('show');\r\n\r\n  }, 4000);\r\n\r\n  setTimeout(function () {\r\n    $('.popup').removeClass('send-success');\r\n  }, 4500);\r\n\r\n}, false);\r\n\r\ndocument.addEventListener('wpcf7invalid', function (event) {\r\n\r\n  // Stuff\r\n  setTimeout(function () {\r\n    $('.wpcf7-form').attr('data-status', 'init');\r\n    $('.wpcf7-form').removeClass('sent invalid');\r\n    $('.wpcf7-form').addClass('init');\r\n    $('.wpcf7-form').addClass('init');\r\n  }, 1500);\r\n\r\n}, false); ","// img cover start\r\n$('.img-cover').each(function () {\r\n  let imgSrc = $(this).find('img').attr('src');\r\n  //console.log(imgSrc);\r\n  $(this).css('background-image', 'url(' + imgSrc + ')');\r\n});\r\n// img cover file start"," // style input file start\r\n\r\nlet ObjfieldFile = $('.input-file');\r\nlet flagFileMulti;\r\nlet textChoise;\r\nlet sizeFile;\r\nlet nameFile;\r\n\r\nfunction createNewFileContainer(textChoiseParam, flagFileMultiParam, hintParam){\r\n\t\tlet fileContainer = $('<div class=\"file-input-item\"><input class=\"input-file\" type=\"file\" data-flagM=\"'+flagFileMultiParam+'\" accept=\".jpg,.png\"></div>')\r\n\t\tlet noticeFile = $('<div class=\"notice-file notice-big-file\"><em>Файл слишком большой</em><i></i></div>');\r\n\t\tlet docorateFile = $('<div class=\"file-decorate\"><span>'+textChoiseParam+'</span><i></i></div>');\r\n\t\t\r\n\t\treturn fileContainer.append(docorateFile).append(noticeFile);\r\n}\r\n\r\nObjfieldFile.each(function(){\r\n\r\n\t\ttextChoise = $(this).data('textchoise') ? $(this).data('textchoise') :  'Загрузите изображение';\r\n\t\tflagFileMulti = $(this).data('multy') ?  $(this).data('multy') : 0;\r\n\t\ttextHint = $(this).data('hint');\r\n\r\n\t\t$(this).replaceWith(createNewFileContainer(textChoise, flagFileMulti, textHint));\r\n\r\n});\r\n\r\n\r\n\r\n$('body').on('click', '.file-decorate', function () {\r\n\r\n\t\tlet container = $(this).parents('.file-input-item');\r\n\t\tcontainer.find('.input-file').trigger('click');\r\n});\r\n\r\n$('body').on('change', '.input-file', function () {\r\n\t\tnameFile = $(this).val().replace(/C:\\\\fakepath\\\\/i, '');\r\n\t\tlet container = $(this).parents('.file-input-item');\r\n\t\t\r\n\t\tif(nameFile.length>0){\r\n\t\t\t\tsizeFile = this.files[0].size;\r\n\t\t\t\tif(sizeFile < 500000){\r\n\t\t\t\t\t\tcontainer.find('span').text(nameFile);\r\n\t\t\t\t\t\tcontainer.addClass('file-decorate-full');\r\n\r\n\t\t\t\t\t\tflagFileMulti = $(this).data('flagm');\r\n\r\n\t\t\t\t\t\tif (flagFileMulti == 1) {\r\n\t\t\t\t\t\t\t\t$(this).parents('.file-input-item').after(createNewFileContainer(textChoise,\"1\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(this).parents('.file-input-item').find('.notice-file').addClass('notice-file--show');\r\n\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t$('.notice-file').removeClass('notice-file--show');\r\n\t\t\t\t\t},3000);\r\n\t\t\t\t}\r\n\t\t}\r\n});\r\n\r\n$(\"body\").on(\"click\", \".file-decorate i\", function (e) {\r\n\t\te.stopPropagation();\r\n\t\tflagFileMulti = $(this).parents('.file-input-item').find('.input-file').data('flagm');\r\n\t\tlet container = $(this).parents('.file-input-item');\r\n\t\tconsole.log(flagFileMulti);\r\n\t\tif (flagFileMulti == 1) {\r\n\t\t\t\tcontainer.remove();\r\n\t\t}\r\n\t\telse{\r\n\t\t\t\tcontainer.replaceWith(createNewFileContainer(textChoise,\"0\"));\r\n\t\t}\r\n});\r\n // style input file end","// custom-select\r\n\r\n$('.style-select').each(function () {\r\n  const select = $(this);\r\n  const selectedText = select.find('option:selected').text();\r\n  const dataText = select.data('text') || selectedText;\r\n  const dataClass = select.data('class') ?? '';\r\n\r\n  let selectOptions = '';\r\n\r\n  select.find('option').each(function (index, option) {\r\n    selectOptions +=\r\n      `<li\r\n          data-index=\"${index}\" \r\n          data-value=\"${$(option).val()}\"\r\n          ${$(this).attr('selected') ? 'class=\"hide-selected\"' : ''}\r\n          >\r\n          ${$(option).text()}\r\n        </li>`;\r\n  });\r\n\r\n  const customSelectBox = $(\r\n    `<div class='custom-select ${dataClass}' >\r\n        <span>${dataText}</span>\r\n        <ul class='ln'>${selectOptions}</ul>\r\n        <i></i>\r\n      </div> `\r\n  );\r\n\r\n  select.before(customSelectBox).hide();\r\n});\r\n\r\n$('body').on('click', function (evt) {\r\n  const target = $(evt.target);\r\n  if (!target.closest('.custom-select').length) {\r\n    $('.custom-select').removeClass('active');\r\n  }\r\n});\r\n\r\n\r\n$(document).on('click', '.custom-select', function (e) {\r\n  e.preventDefault();\r\n  const currentSelect = $(this);\r\n  $('.custom-select').not(currentSelect).removeClass('active');\r\n  currentSelect.toggleClass('active');\r\n});\r\n\r\n\r\n$(document).on('click', '.custom-select li', function () {\r\n  const li = $(this);\r\n  const index = li.data('index');\r\n  const parent = li.closest('.custom-select');\r\n  const select = parent.next('.style-select');\r\n\r\n  select.find('option').eq(index).prop('selected', true);\r\n  parent.find('span').text(li.text());\r\n\r\n  parent.find('li').removeClass('hide-selected');\r\n  li.addClass('hide-selected');\r\n});\r\n\r\n\r\n// custom-select","\r\n// checkbox.radio Кнопки\r\nlet choiseBtn = $('.choise-input-btn');\r\n\r\nchoiseBtn.on('click', function () {\r\n\r\n  $('.search-input-ajax').val('')\r\n\r\n  let btnValue = $(this).data('value');\r\n  let choiseParent = $(this).parent();\r\n  let choiseInput = choiseParent.find('.choise-input-field');\r\n\r\n  if ($(this).hasClass('active')) {\r\n    choiseInput.val('');\r\n    $(this).removeClass('active');\r\n  } else {\r\n    choiseInput.val(btnValue);\r\n    choiseParent.find('.choise-input-btn').removeClass('active');\r\n    $(this).addClass('active');\r\n  }\r\n  console.log(btnValue)\r\n});\r\n// checkbox.radio Кнопки\r\n\r\nlet boxContainer = $('.search-tag-container');\r\nlet elTag = (text) => (`<div class=\"search-tag\"><span>${text}</span><i></i></div>`);\r\n\r\nlet mainBox = $('.search-list');\r\n\r\nconst spinnerNew = $('.preloader-container');\r\n\r\nlet mainSearch = $('.search');\r\n\r\nlet searchTimeId;\r\n\r\nlet inputAjax = $('.search-input-ajax');\r\nlet liteSearch = inputAjax.data('light');\r\nlet allResults = [];\r\n\r\nlet dataRace;\r\nlet raceInput = $('.choise-input-race');\r\n\r\ndataRace = raceInput.val();\r\n\r\nconst ajaxSearch = (searchVal) => {\r\n  dataRace = raceInput.val();\r\n\r\n  $.ajax({\r\n    type: \"GET\",\r\n    url: \"/wp-json/animals/all\",\r\n    data: { 'search': searchVal, 'term': dataRace },\r\n    success: generateContent,\r\n    error: handleError\r\n  });\r\n}\r\n\r\n\r\n\r\nconst handleError = (error) => {\r\n  console.error('Error occurred during AJAX request:', error);\r\n  // Add error handling logic here, such as displaying an error message to the user\r\n};\r\n\r\n\r\nconst generateContent = (result) => {\r\n  console.log('test aj', result)\r\n  allResults = result;\r\n  mainBox.empty();\r\n  spinnerNew.removeClass('active');\r\n\r\n\r\n\r\n  let select = (title, slug) => {\r\n    return liteSearch ? `<li><a class=\"choise-tag\" href=\"${slug}\">${title}</a></li>` : `<li><a class=\"add-tag\" href=\"${slug}\">${title}</a></li>`;\r\n  }\r\n\r\n  if (result.length > 0) {\r\n    const html = `<ul class=\"ln\">${result.map(({ title, slug }) => select(title, slug)).join('')}</ul>`;\r\n    mainBox.append(html);\r\n  } else {\r\n    mainBox.append('<div class=\"empty-list\">Список пуст</div>');\r\n  }\r\n\r\n  mainBox.addClass('active');\r\n\r\n}\r\n\r\n\r\n\r\n\r\ninputAjax.on('keyup', function () {\r\n  let search = $(this).closest('.search');\r\n  let searchVal = $(this).val();\r\n\r\n  if (searchVal.length > 1) {\r\n\r\n    spinnerNew.addClass('active');\r\n    search.addClass('search-on');\r\n\r\n    clearTimeout(searchTimeId);\r\n    searchTimeId = setTimeout(() => {\r\n\r\n      ajaxSearch(searchVal);\r\n\r\n    }, 2000);\r\n  } else {\r\n    allResults = [];\r\n    spinnerNew.removeClass('active');\r\n    mainBox.empty();\r\n    mainBox.removeClass('active');\r\n    search.removeClass('search-on');\r\n  }\r\n});\r\n\r\n\r\n\r\n\r\n$('.search-input').on('blur', function () {\r\n\r\n  mainBox.removeClass('active');\r\n});\r\n\r\n$('.search-input').on('focus', function () {\r\n\r\n  if (allResults.length > 0) {\r\n    mainBox.addClass('active');\r\n  }\r\n});\r\n\r\n// Додавить крестик в каждой поиске\r\n\r\nfunction clearCloseField(el) {\r\n  let search = el.closest('.search');\r\n  search.removeClass('search-on');\r\n  mainBox.removeClass('active');\r\n  inputAjax.val('');\r\n  allResults = [];\r\n  setTimeout(function () {\r\n    mainBox.empty();\r\n  }, 250);\r\n}\r\n\r\nmainSearch.on('click', '.close-btn', function () {\r\n  clearCloseField($(this));\r\n});\r\n\r\n// ЗАБРАТЬ ИЗ СТРОКИ\r\nfunction getTagsFromUrl() {\r\n  const url = new URL(window.location);\r\n  const specializationParam = url.searchParams.get('specialization');\r\n\r\n  if (specializationParam) {\r\n    // Декодируем и разбиваем значение на массив по разделителю \", \"\r\n    return decodeURIComponent(specializationParam).split(', ');\r\n  } else {\r\n    // Если параметр отсутствует, возвращаем пустой массив\r\n    return [];\r\n  }\r\n}\r\n// ЗАБРАТЬ ИЗ СТРОКИ\r\n\r\n\r\n// РАБОТА СО СТРОКОЙ\r\nfunction updateFilterUrl() {\r\n  let inputSpec = $('.specialization-input');\r\n  if (arrTags.length === 0) {\r\n    inputSpec.val('');\r\n  } else {\r\n    inputSpec.val(arrTags.join(', '));\r\n  }\r\n\r\n}\r\n\r\n// РАБОТА СО СТРОКОЙ\r\n\r\n\r\n// ДОБАВЛЕНИЕ ТЕГОВ\r\n\r\n\r\n\r\nlet arrTags = getTagsFromUrl();\r\nlet arrTagsSlug = [];\r\n\r\n\r\nif (arrTags.length > 0) {\r\n  updateTagContainer(arrTags);\r\n}\r\n\r\n\r\n\r\nfunction updateTagContainer(tags) {\r\n  boxContainer.empty();\r\n  const html = tags.map(item => elTag(item)).join('');\r\n  boxContainer.append(html);\r\n}\r\n\r\n$('body').on('click', '.choise-tag', function (e) {\r\n  e.preventDefault();\r\n\r\n  let singleTag = $(this).text();\r\n\r\n  inputAjax.val(singleTag);\r\n});\r\n\r\n$('body').on('click', '.add-tag', function (e) {\r\n  e.preventDefault();\r\n\r\n  let singleTag = $(this).text();\r\n  let singleTagSlug = $(this).attr('href');\r\n  if (!arrTags.includes(singleTag)) {\r\n    arrTags.push(singleTag);\r\n  } else {\r\n    arrTags = arrTags.filter(item => item !== singleTag);\r\n  }\r\n  updateTagContainer(arrTags);\r\n  updateFilterUrl();\r\n\r\n  $('.map-filter').submit();\r\n});\r\n\r\n$('body').on('click', '.search-tag', function () {\r\n  $(this).remove();\r\n  let singleTag = $(this).find('span').text();\r\n  arrTags = arrTags.filter(item => item !== singleTag);\r\n  updateFilterUrl();\r\n\r\n  // console.log($(this).parents('.map-filter'))\r\n\r\n  $('.map-filter').submit();\r\n});\r\n// ДОБАВЛЕНИЕ ТЕГОВ\r\n\r\n","\r\n$('.close-js').on('click', function () {\r\n    $(this).parents('.element-show').removeClass('show');\r\n    $('.popup').removeClass('send-success');\r\n});\r\n$('.popup-overlay-js').on('click', function (e) {\r\n    $(this).parents('.element-show').removeClass('show');\r\n    $('.popup').removeClass('send-success');\r\n});\r\n\r\n$(document).on('keyup', (evt) => {\r\n    if (evt.keyCode === 27) {\r\n        $('.element-show').removeClass('show');\r\n        $('.popup').removeClass('send-success');\r\n    }\r\n});\r\n\r\n$('body').on('click', '.element-btn', function (e) {\r\n    e.preventDefault();\r\n\r\n    $('.element-show').removeClass('show');\r\n    let activeIndex = $(this).attr('data-element');\r\n\r\n    $('[data-element=\"' + activeIndex + '\"].element-show').addClass('show');\r\n\r\n\r\n});","$('.password-field').on('click','i',changeStatePass);\r\nlet visibility = true;\r\nfunction changeStatePass(){\r\n\r\n  console.log(visibility);\r\n\r\n  let thisEl = $(this);\r\n\r\n  let changePass = (el,type,bool) => {\r\n    $('.password-field').find('input').attr('type',type);\r\n    el.attr('data-visibility', bool);\r\n    visibility = !visibility;\r\n  }\r\n\r\n  visibility ? changePass(thisEl,'text', visibility) : changePass(thisEl,'password', visibility)\r\n\r\n}\r\n\r\n","$(window).on('load', function () {\r\n  $('.preloader-popup').addClass('loaded');\r\n});\r\n\r\n\r\n\r\nvar st = 0;\r\nwindow.addEventListener('scroll', function (e) {\r\n\r\n  st = $(this).scrollTop();\r\n\r\n  if (st > 0) {\r\n    $('header').addClass('stick');\r\n  }\r\n  else {\r\n    $('header').removeClass('stick');\r\n  }\r\n\r\n});\r\n\r\n\r\n\r\n\r\n// $(window).on('load',function(){\r\n//   $('.preload').addClass('load');\r\n//   setTimeout(function(){\r\n//     $('.preload').addClass('hide');\r\n//   },2000)\r\n// });\r\n\r\n\r\n\r\n/* animate label all form */\r\n$('.input-box').each(function () {\r\n  $(this).find('input, textarea').on('keyup', function () {\r\n    let lengthInput = $(this).val().length;\r\n    if (lengthInput > 0) {\r\n      $(this).addClass('input-empty');\r\n    }\r\n    else {\r\n      $(this).removeClass('input-empty');\r\n    }\r\n  })\r\n\r\n});\r\n/* animate label all form */\r\n\r\n// video play rew\r\n\r\n$('.video-btn').on('click', function () {\r\n  $(this).hide();\r\n  $(this).prev()[0].play();\r\n});\r\n\r\n\r\n/*servises*/\r\n\r\n$('.services-item').mousemove(function (event) {\r\n\r\n  let curX = (event.offsetX - 42);\r\n  let curY = (event.offsetY - 42);\r\n\r\n  $(this).find('.btn-item-plus').css({\r\n    left: (curX) + 'px',\r\n    top: (curY) + 'px'\r\n  });\r\n});\r\n/*servises*/\r\n\r\n/*faq*/\r\n$('.faq-head').on('click', function () {\r\n  $(this).parent().toggleClass('faq-item--active');\r\n});\r\n/*faq*/\r\n\r\n/*sidebar*/\r\n$('.sidebar-search-head').on('click', function () {\r\n  $(this).parents('.sidebar-search-item').toggleClass('active');\r\n});\r\n/*sidebar*/\r\n\r\n\r\n$('.sidebar-show-js').on('click', function () {\r\n  $('.catalog-sidebar').toggleClass('active');\r\n});\r\n$('.close-sidebar').on('click', function () {\r\n  $('.catalog-sidebar').removeClass('active');\r\n});\r\n/*sidebar*/\r\n\r\n\r\n/*main page*/\r\n$('.mouse-down-btn-js').on('click', function () {\r\n  $('html, body').animate({ scrollTop: $('.main-home').height() + 'px' }, 'slow');\r\n});\r\n/*main page*/\r\n\r\n$('.tabs-sticky').on('click', 'li', function () {\r\n  let index = $(this).index() + 1;\r\n  // console.log(index)\r\n  $('html, body').animate({ scrollTop: $('.tabs-point-' + index).offset().top - 130 + 'px' }, 'slow');\r\n});\r\n\r\n\r\n$('.scroll-top-js').on('click', function () {\r\n  $('html, body').animate({ scrollTop: 0 }, 'slow');\r\n});\r\n\r\n\r\n\r\nlet btnBox = $(`<div><span class=\"link\">Далее...</span></div>`);\r\n$('.pets-hidden-box-container').each(function () {\r\n  let heightBox = $(this).height(); // Высота контейнера\r\n  let contentBox = $(this).html(); // Содержимое контейнера\r\n\r\n  if (heightBox > 50) { // Проверяем, если высота больше 100px\r\n    // Обертываем содержимое в .pets-hidden-box\r\n    $(this).html('<div class=\"pets-hidden-box\">' + contentBox + '</div>').append(btnBox.clone());\r\n  }\r\n});\r\n\r\n$('.pets-hidden-box-container').on('click', '.link', function () {\r\n  let parent = $(this).parents('.pets-hidden-box-container').find('.pets-hidden-box');\r\n\r\n  if (parent.hasClass('show')) {\r\n    parent.removeClass('show');\r\n    $(this).text('Далее...');\r\n  } else {\r\n    parent.addClass('show');\r\n    $(this).text('Скрыть');\r\n  }\r\n\r\n});\r\n\r\n\r\n\r\n// PETS INF PITOMNIKI\r\n$('.pets-tabs-container').each(function () {\r\n  $(this).find('.pets-tabs-head span').eq(0).addClass('active');\r\n  $(this).find('.pets-tabs-item').eq(0).addClass('active');\r\n})\r\n$('.pets-tabs-head').on('click', 'span', function () {\r\n  let indexTab = $(this).index();\r\n\r\n  let parentsTab = $(this).parents('.pets-tabs-container');\r\n  let tabSpanItem = parentsTab.find('.pets-tabs-head span');\r\n  let tabItem = parentsTab.find('.pets-tabs-item');\r\n\r\n\r\n  tabSpanItem.removeClass('active');\r\n  tabSpanItem.eq(indexTab).addClass('active');\r\n\r\n  tabItem.removeClass('active');\r\n  tabItem.eq(indexTab).addClass('active');\r\n\r\n\r\n});\r\n\r\n// PETS INF PITOMNIKI\r\n\r\n\r\n","let detailTabs = $('.tabs');\r\nif(detailTabs.length > 0){\r\n  const onHoverMoveCarriage = function(num){\r\n    let widthCarriage = detailTabs.find('li').eq(num).width();\r\n    let offsestLeftCarriage = detailTabs.find('li').eq(num).position().left;\r\n    $('.tabs-carriage').css({width: widthCarriage+'px', left: offsestLeftCarriage+'px'});\r\n  }\r\n  let timeOutId;\r\n  let curretTabs = 0;\r\n  let timeReturn = 500;\r\n\r\n  detailTabs.find('li').hover(\r\n  function(){\r\n\r\n    clearInterval(timeOutId)\r\n    onHoverMoveCarriage($(this).index());\r\n\r\n  \r\n  },function(){\r\n\r\n    timeOutId = setTimeout(function(){\r\n      onHoverMoveCarriage(curretTabs);\r\n    }, timeReturn);\r\n  });\r\n\r\n  detailTabs.find('li').on('click',function(){\r\n    \r\n    curretTabs = $(this).index();\r\n    detailTabs.find('li').removeClass('active').eq(curretTabs).addClass('active');\r\n    onHoverMoveCarriage(curretTabs);\r\n\r\n    $('.tabs-item').removeClass('active').eq(curretTabs).addClass('active');\r\n  });\r\n\r\n  onHoverMoveCarriage(0);\r\n\r\n}","let commetsStarBlock = $('.comments-stars');\r\n\r\ncommetsStarBlock.on('click', '.stars-ico', function () {\r\n  // console.log('cl', $(this).index());\r\n\r\n  commetsStarBlock.find('.stars-ico').removeClass('active');\r\n  let numRating = $(this).data('index');\r\n\r\n  commetsStarBlock.find('.stars-ico').slice(0, numRating).addClass('active');\r\n  console.log(numRating, commetsStarBlock.find('.stars-ico').slice(0, numRating))\r\n  $(this).find('input').prop('checked', true);\r\n}); ","\r\n$('.animals-nav').on('click', 'li span', function () {\r\n  let point = $(this).data('index');\r\n  console.log('index', point);\r\n  $('html, body').animate({ scrollTop: $('.' + point).offset().top - 130 + 'px' }, 'slow');\r\n});\r\n\r\n\r\nconst formSearchAnimals = $('.animals-search-js');\r\nconst inputElements = formSearchAnimals.find('input');\r\nconst selectElements = formSearchAnimals.find('.custom-select li');\r\n\r\nfunction handleSubmitForm() {\r\n  let idTimeSearch;\r\n  clearTimeout(idTimeSearch);\r\n  idTimeSearch = setTimeout(() => {\r\n    $(this).parents('form').submit();\r\n  }, 500);\r\n};\r\n\r\ninputElements.on('keyup', handleSubmitForm);\r\nselectElements.on('click', handleSubmitForm);","// COMMENTS FORM\r\nlet authorInput = $('.comments-author');\r\nlet emailInput = $('.comments-email');\r\nlet avatarInput = $('.comments-avatar');\r\n\r\nlet startAuthor;\r\nlet startEmail;\r\nlet startAvatar;\r\n\r\n// console.log('ud', userData)\r\n\r\nif (userData) {\r\n  $('.comments-form-stub').remove();\r\n  const { user_email, first_name, last_name, extra_name, foto_profilya } = userData;\r\n\r\n  startAuthor = `${first_name} ${last_name} ${extra_name}`;\r\n\r\n  startEmail = user_email;\r\n\r\n  if (foto_profilya) {\r\n    if (foto_profilya != '[]') {\r\n      startAvatar = JSON.parse(foto_profilya);\r\n      startAvatar = startAvatar[0].url;\r\n    }\r\n  }\r\n\r\n  authorInput.val(startAuthor);\r\n  emailInput.val(startEmail);\r\n  avatarInput.val(startAvatar);\r\n}\r\n\r\n\r\n$('.comments-anonim-js input').on('click', function () {\r\n\r\n  let checkAnonim = $(this);\r\n  if (checkAnonim.is(':checked')) {\r\n\r\n    authorInput.val('Аноним').addClass('input-hide');\r\n    emailInput.val('anonim@zoonika.ru').addClass('input-hide');\r\n    avatarInput.val('');\r\n  } else {\r\n\r\n    // console.log('uncheck');\r\n    authorInput.val(startAuthor).removeClass('input-hide');\r\n    emailInput.val(startEmail).removeClass('input-hide');\r\n  }\r\n});\r\n\r\n$('.comments-form-stub').on('click', function () {\r\n  $('.btn-container-comments').addClass('active');\r\n});\r\n\r\n// COMMENTS FORM","// console.log('item test')\r\nlet mapItemCompanies = ({\r\n  specialization_company,\r\n  images,\r\n  link,\r\n  value,\r\n  address_company,\r\n  sales_count\r\n\r\n}) => {\r\n\r\n\r\n  return `\r\n    <div class=\"map-item\">\r\n      <h3><a href=\"${link}\">${value}</a></h3>\r\n      <div class=\"map-item-slider\">\r\n        ${images.map(img => `<div class=\"map-item-img\"><div class=\"img-cover\"><img src=\"${img.url}\" alt=\"pic\" /></div></div>`).join('')}\r\n      </div>\r\n      <ul class=\"map-item-info ln\">\r\n        <li>Специализация: <b>${specialization_company.map(el => `<span>${el.name}</span>`).join(', ')}</b></li>\r\n        <li>Адрес: <b>${address_company.address}</b></li>\r\n        <li>Количество объявлений: <b>${sales_count}</b></li>\r\n      </ul> \r\n      <div class=\"btn-container\">\r\n        <a class=\"btn btn--blue\" href=\"${link}\">Подробнее</a>\r\n      </div>\r\n    </div >\r\n  `\r\n};","// console.log('item test')\r\nlet mapItemSales = ({\r\n  price,\r\n  images,\r\n  link,\r\n  value,\r\n  birth,\r\n  gender,\r\n  race,\r\n  target\r\n\r\n}) => {\r\n  console.log(target)\r\n\r\n  return `\r\n    <div class=\"map-item\">\r\n      <h3><a href=\"${link}\">${value}</a></h3>\r\n      <div class=\"map-item-box\">\r\n      ${target && `<div class=\"sales-item-type ${target.value}\">${target.label}</div>`}\r\n      <div class=\"map-item-slider\">\r\n        ${images.map(img => `<div class=\"map-item-img\"><div class=\"img-cover\"><img src=\"${img.url}\" alt=\"pic\" /></div></div>`).join('')}\r\n      </div>\r\n      </div>\r\n      \r\n      <ul class=\"map-item-info ln\">\r\n        ${price ? (`<li class=\"sales-price\">Цена: <b>${price === 'empty' ? 'Договорная' : price}</b></li>`) : ''}\r\n        ${birth ? (`<li>Дата рождения: <b>${birth}</b></li>`) : ''}\r\n        ${gender ? (`<li>Пол: <b>${gender.label}</b></li>`) : ''}\r\n        ${race ? (`<li>Порода: <b>${race.race.name}</b></li>`) : ''}\r\n      </ul>\r\n      <div class=\"btn-container\">\r\n        <a class=\"btn btn--blue\" href=\"${link}\">Подробнее</a>\r\n      </div>\r\n    </div>\r\n  `\r\n};","\r\nif ($('#map').length) {\r\n  ymaps.ready(function () {\r\n\r\n    let arrCoords = [];\r\n    let arrAddresses = $('.contacts-address-line');\r\n\r\n    let slug = $('#map').data('slug');\r\n\r\n    let myMap = new ymaps.Map('map', {\r\n      center: [55.755864, 37.617698],\r\n      zoom: 12\r\n    }, {\r\n      searchControlProvider: 'yandex#search'\r\n    });\r\n\r\n    myMap.controls.remove('trafficControl'); // Пробки\r\n    myMap.controls.remove('typeSelector'); // Тип карты\r\n    myMap.controls.remove('fullscreenControl'); // Полноэкранный режим\r\n    myMap.controls.remove('rulerControl'); // Линейка\r\n    myMap.controls.remove('geolocationControl'); // Геолокация\r\n    myMap.controls.remove('searchControl'); // Поиск\r\n\r\n    // Убираем слои\r\n    // myMap.layers.remove('traffic#actual'); // Слой пробок\r\n    // myMap.layers.remove('routeEditor'); // Редактор маршрутов\r\n\r\n    let objectManager = new ymaps.ObjectManager({\r\n      clusterize: true,\r\n      gridSize: 32,\r\n      clusterDisableClickZoom: true,\r\n      openBalloonOnClick: false\r\n\r\n    });\r\n\r\n    objectManager.objects.options.set('preset', 'islands#greenDotIcon');\r\n    objectManager.clusters.options.set('preset', 'islands#greenClusterIcons');\r\n    myMap.geoObjects.add(objectManager);\r\n\r\n    arrAddresses.each(function (index) {\r\n      // arrCoords.push($(this).data('coords'));\r\n      arrCoords.push({\r\n        \"type\": \"Feature\", \"id\": index, \"geometry\": { \"type\": \"Point\", \"coordinates\": $(this).data('coords') },\r\n        \"properties\": {\r\n          \"id_post\": $(this).data('id')\r\n        }\r\n      });\r\n\r\n    });\r\n\r\n    objectManager.add({\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": arrCoords\r\n    });\r\n\r\n\r\n    let mapInfo = $('.map-info');\r\n    let mapInfoContainer = mapInfo.find('.map-info-container');\r\n    //\r\n\r\n\r\n\r\n\r\n    function updateVisiblePoints(arrVisibleMarker) {\r\n      mapInfoContainer.empty();\r\n\r\n      mapInfo.addClass('active loading');\r\n\r\n\r\n\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: \"/wp-json/get/posts\",\r\n        data: {\r\n          'slug': slug,\r\n          'map': 'true',\r\n          'arrVisibleMarker': arrVisibleMarker\r\n        },\r\n        success: function (result) {\r\n          mapInfo.removeClass('loading');\r\n\r\n          result.forEach((item) => {\r\n            console.log('item', item)\r\n            item.slug === 'companies' && mapInfoContainer.append(mapItemCompanies(item));\r\n            item.slug === 'sales' && mapInfoContainer.append(mapItemSales(item));\r\n\r\n          });\r\n\r\n\r\n          let mapItemSlider = $('.map-item-slider');\r\n          mapItemSlider.lightSlider({\r\n            item: 1,\r\n            // loop: true,\r\n            slideMove: 1,\r\n            pager: false,\r\n            addClass: 'map-item-slider-container'\r\n          });\r\n\r\n          $('.img-cover').each(function () {\r\n            let imgSrc = $(this).find('img').attr('src');\r\n            //console.log(imgSrc);\r\n            $(this).css('background-image', 'url(' + imgSrc + ')');\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    // ПОЛУЧАЕМ И ВЫВОДИМ ПРИ КЛИКЕ\r\n    objectManager.objects.events.add('click', function (e) {\r\n      let objectId = e.get('objectId');\r\n      let objectData = objectManager.objects.getById(objectId);\r\n      let idPost = objectData.properties.id_post;\r\n\r\n      console.log(idPost)\r\n      updateVisiblePoints([idPost]);\r\n    });\r\n\r\n    objectManager.clusters.events.add('click', function (e) {\r\n      let clusterId = e.get('objectId');\r\n      let cluster = objectManager.clusters.getById(clusterId);\r\n      let arrVisibleMarker = cluster.features.map(item => item.properties.id_post);\r\n\r\n      console.log('arrVisibleMarker', arrVisibleMarker)\r\n      updateVisiblePoints(arrVisibleMarker);\r\n    });\r\n\r\n    $('.close-btn--map-popup').on('click', function () {\r\n      mapInfoContainer.empty();\r\n\r\n      mapInfo.removeClass('active loading');\r\n    });\r\n\r\n\r\n    myMap.setBounds(myMap.geoObjects.getBounds(), {\r\n      checkZoomRange: true\r\n    }).then(function () {\r\n      if (myMap.getZoom() > 12) myMap.setZoom(12);\r\n    });\r\n  });\r\n\r\n\r\n}\r\n\r\n\r\n","});"]}